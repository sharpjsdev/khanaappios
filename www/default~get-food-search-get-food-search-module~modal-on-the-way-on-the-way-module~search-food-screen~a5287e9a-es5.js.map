{"version":3,"sources":["webpack:///src/app/modal/on-the-way/on-the-way.page.html","webpack:///src/app/modal/on-the-way/on-the-way.page.scss","webpack:///src/app/modal/on-the-way/on-the-way.page.ts"],"names":["OnTheWayPage","geolocation","nativeGeocoder","route","router","fetch","platform","location","modalController","zone","storage","pointarr","autocomplete","latitude","longitude","service","google","maps","places","AutocompleteService","model","waypoints","directionsService","DirectionsService","directionsRenderer","DirectionsRenderer","suppressMarkers","markers","infowindow","InfoWindow","sources","destination","start","end","ngOnInit","user_id","JSON","parse","localStorage","getItem","ionViewWillEnter","self","options","enableHighAccuracy","getCurrentPosition","then","resp","LastLat","coords","LastLng","latLng","LatLng","mapOptions","center","zoom","mapTypeId","MapTypeId","ROADMAP","map","Map","document","getElementById","setMap","ionViewDidEnter","lang_code","res","getScope","item1","find","i","key_text","key_text1","item2","key_text2","item3","key_text3","dismissSource","dismissDestination","chooseSource","item","geo","geoCode","chooseDestination","updateSources","lat","lng","defaultBounds","north","south","east","west","bounds","componentRestrictions","country","strictBounds","types","input","Autocomplete","addListener","start_address","getPlace","formatted_address","console","log","updateDestinations","end_address","address","path","geocoder","Geocoder","geocode","results","status","address_components","forEach","val","city","long_name","state","postalCode","startLat","geometry","startLng","showRoutes","endLat","endLng","getLiText","point","setDirections","routes","length","origin","optimizeWaypoints","travelMode","TravelMode","DRIVING","response","j","points","overview_path","result","allpoints","push","alllatlng","startLocation","Object","endLocation","legs","start_location","time_c","duration","text","distance_c","distance","end_location","createMarker","window","alert","latlng","label","html","mobile_no","url","contentString","marker","Marker","position","icon","title","zIndex","Math","round","event","setContent","open","closeModal","onClosedData","dismiss","current_location","data","blank","$","selector","template"],"mappings":"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","file":"default~get-food-search-get-food-search-module~modal-on-the-way-on-the-way-module~search-food-screen~a5287e9a-es5.js","sourcesContent":["export default \"<ion-content class=\\\"current_location_page_show\\\">\\n  <!-- <div class=\\\"map current_location\\\">\\n\\t\\t<img src=\\\"assets/images/close_btn.svg\\\" style=\\\"float:right;margin-right:20px;\\\" (click)=\\\"closeModal()\\\">\\n\\t</div> -->\\n  <div id=\\\"my_custom_on\\\">\\n    <input type=\\\"text\\\" id=\\\"my_test\\\" (keyup)=\\\"updateSources()\\\" placeholder=\\\"{{model.key_text2}}\\\"> <ion-icon *ngIf=\\\"autocomplete.start\\\" (click)=\\\"blank('start')\\\" class=\\\"cross_on_the\\\" name=\\\"close-outline\\\"></ion-icon>\\n    <input type=\\\"text\\\" id=\\\"my_test2\\\" (keyup)=\\\"updateDestinations()\\\" placeholder=\\\"{{model.key_text3}} \\\"> <ion-icon *ngIf=\\\"autocomplete.end\\\" (click)=\\\"blank('end')\\\" class=\\\"cross_cross_2\\\" name=\\\"close-outline\\\"></ion-icon>\\n  </div>\\n  \\n  <!-- <ion-searchbar [(ngModel)]=\\\"autocomplete.start\\\" placeholder=\\\"choose starting point\\\" [showCancelButton]=\\\"true\\\"   (ionInput)=\\\"updateSources()\\\" (ionCancel)=\\\"dismissSource()\\\"></ion-searchbar>\\n    <ion-list style=\\\"position: absolute;z-index: 999;\\\">\\n      <ion-item *ngFor=\\\"let item of sources\\\" tappable   (click)=\\\"chooseSource(item)\\\">\\n        {{ item }}\\n      </ion-item>\\n    </ion-list>\\n    <ion-searchbar style=\\\"margin-bottom:20px;\\\" [(ngModel)]=\\\"autocomplete.end\\\" placeholder=\\\"choose destination \\\" [showCancelButton]=\\\"true\\\"   (ionInput)=\\\"updateDestinations()\\\" (ionCancel)=\\\"dismissDestination()\\\"></ion-searchbar>\\n    <ion-list style=\\\"position: absolute;z-index: 999;\\\">\\n      <ion-item *ngFor=\\\"let item of destination\\\" tappable   (click)=\\\"chooseDestination(item)\\\">\\n        {{ item }}\\n      </ion-item>\\n    </ion-list> -->\\n\\t<!-- <div class=\\\"map current_location\\\">\\n\\t\\t<img src=\\\"assets/images/close_btn.svg\\\" class=\\\"close_btn\\\" (click)=\\\"closeModal()\\\">\\n\\t</div> -->\\n\\t<div #map id=\\\"map\\\"></div> \\n  <div class=\\\"\\\" style=\\\"margin-left:10px;\\\" *ngIf=\\\"time_c\\\">\\n    <p class=\\\"regular medium size_14 green\\\">{{time_c}} <span class=\\\"grey size_14\\\">({{distance_c}})</span></p>\\n  </div>\\n</ion-content>\\n<ion-footer class=\\\"current_location_page_show\\\" > \\n    <ion-toolbar>    \\n\\t\\t<div class=\\\"app_button\\\" *ngIf=\\\"model.startLat && model.startLng && model.endLat && model.endLng\\\">\\n\\t\\t\\t<span (click)=\\\"current_location()\\\">\\n\\t\\t\\t\\t<button class=\\\"app_btn\\\">{{model.key_text1}}</button>\\n\\t\\t\\t</span>\\n\\t\\t\\t<!--  <button class=\\\"app_btn\\\" (click)=\\\"confirm_location()\\\">Confirm Location</button> -->\\n\\t\\t</div>\\n    </ion-toolbar>\\n</ion-footer>\\n  \";","export default \"#map {\\n  width: 100%;\\n  height: 350px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uXFwuLlxcLi5cXC4uXFxvbi10aGUtd2F5LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLFdBQUE7RUFDQSxhQUFBO0FBQ0oiLCJmaWxlIjoib24tdGhlLXdheS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjbWFwIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDM1MHB4O1xufSJdfQ== */\";","import { Component, OnInit, ViewChild ,ElementRef,NgZone } from '@angular/core';\nimport { Geolocation,GeolocationOptions ,Geoposition ,PositionError } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { FetchService } from '../../fetch.service';\nimport { StorageService } from '../../storage.service';\nimport { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { Platform,ModalController } from '@ionic/angular';\nimport { Location } from \"@angular/common\";\ndeclare var google: any;\ndeclare var $: any;\n\n@Component({\n  selector: 'app-on-the-way',\n  templateUrl: './on-the-way.page.html',\n  styleUrls: ['./on-the-way.page.scss'],\n})\nexport class OnTheWayPage implements OnInit {\n  allpoints;\n  pointarr=[];\n  sources;\n  destination;\n  autocomplete:any={};\n  data;\n  latitude: number = 0;\n  longitude: number = 0;\n  geo: any;\n  service = new google.maps.places.AutocompleteService();\n  model:any={};\n  waypoints:any=[];\n  directionsService = new google.maps.DirectionsService();\n  directionsRenderer = new google.maps.DirectionsRenderer({\n    suppressMarkers: true\n  });\n  markers = [];\n infowindow = new google.maps.InfoWindow();\n  options : GeolocationOptions;\n  @ViewChild('map') mapElement: ElementRef;\n  map: any;\n  time_c: any;\n  distance_c: any;\n  constructor(\n    private geolocation: Geolocation,\n    private nativeGeocoder: NativeGeocoder,\n    private route: ActivatedRoute,\n    private router: Router,\n    private fetch: FetchService,\n    private platform: Platform, \n    private location: Location,\n    public modalController : ModalController,\n    private zone: NgZone,\n    private storage: StorageService\n  ) { \n    this.sources = [];\n    this.destination = [];\n    this.autocomplete = {\n      start: '',\n      end : ''\n    };\n  }\n\n  ngOnInit() {\n    this.model.user_id = JSON.parse(localStorage.getItem('user_registerd'));\n  }\n\n  ionViewWillEnter(){\n    var self = this;\n    self.options = {\n      enableHighAccuracy: false,\n      };\n      \n    self.geolocation.getCurrentPosition(self.options).then((resp) => {\n    \n      self.model.LastLat = resp.coords.latitude;\n      self.model.LastLng = resp.coords.longitude;\n      //self.getCurrentCity(resp.coords.latitude,resp.coords.longitude);\n      \n      let latLng = new google.maps.LatLng(self.model.LastLat, self.model.LastLng);\n      let mapOptions = {\n        center: latLng,\n        zoom: 15,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      }\n\n      self.map = new google.maps.Map(document.getElementById('map'), mapOptions);\n      self.directionsRenderer.setMap(self.map);\n     \n      \n    }); \n  }\n\n  ionViewDidEnter(){\n    var lang_code = JSON.parse(localStorage.getItem('lang'));\n    //this.fetch.getKeyText(lang_code).subscribe(res => {\n     let res = this.storage.getScope(); \n      let item1 = res.find(i => i.key_text === 'CONFIRM_LOCATION');\n\t\t\tthis.model.key_text1 = item1[lang_code]; \n      let item2 = res.find(i => i.key_text === 'CHOOSE_STARTING_POINT');\n\t\t\tthis.model.key_text2 = item2[lang_code]; \n      let item3 = res.find(i => i.key_text === 'CHOOSE_DESTINATION');\n\t\t\tthis.model.key_text3 = item3[lang_code]; \n\t\t   \n    //});\n  }\n\n  dismissSource() {\n    this.sources = [];\n  }\n  dismissDestination() {\n    this.destination = [];\n  }\n  chooseSource(item: any) {\n    this.sources = [];\n    this.autocomplete.start = item;\n    this.geo = item;\n    this.geoCode(this.geo,'start');//convert Address to lat and long\n  }\n  chooseDestination(item: any) {\n    this.destination = [];\n    this.autocomplete.end = item;\n    this.geo = item;\n    this.geoCode(this.geo,'end');//convert Address to lat and long\n  }\n\n  updateSources() {\n    //alert(this.model.LastLat);\n    //alert(this.model.LastLng);\n    \n     \n    //console.log('-',input);\n    // if ( this.autocomplete.start == '') {\n    //  this.sources = [];\n    // return;\n    // }\n\n    var center = { lat: this.model.LastLat, lng: this.model.LastLng };\n// Create a bounding box with sides ~10km away from the center point\n    var defaultBounds = {\n      north: center.lat + 0.3,\n      south: center.lat - 0.3,\n      east: center.lng + 0.3,\n      west: center.lng - 0.3,\n    };\n  \n    var options = {\n      bounds: defaultBounds,\n      componentRestrictions: { country: \"in\" },\n      //fields: [\"address_components\", \"geometry\",\"icon\", \"name\"],\n      strictBounds: true,\n      types: [\"establishment\"],\n    };\n    var input = document.getElementById(\"my_test\") as HTMLInputElement;\n    var autocomplete = new google.maps.places.Autocomplete(input, options);\n    autocomplete.addListener(\"place_changed\", () => {\n    var start_address = autocomplete.getPlace();\n    this.autocomplete.start = start_address.formatted_address\n    console.log(this.autocomplete.start)\n    this.geoCode(this.autocomplete.start,'start');\n     //console.log(place);\n\n    })\n \n    \n  }\n  updateDestinations() {\n    \n    \n    var center = { lat: this.model.LastLat, lng: this.model.LastLng };\n    // Create a bounding box with sides ~10km away from the center point\n        var defaultBounds = {\n          north: center.lat + 0.3,\n          south: center.lat - 0.3,\n          east: center.lng + 0.3,\n          west: center.lng - 0.3,\n        };\n      \n        var options = {\n          bounds: defaultBounds,\n          componentRestrictions: { country: \"in\" },\n          //fields: [\"address_components\", \"geometry\",\"icon\", \"name\"],\n          strictBounds: true,\n          types: [\"establishment\"],\n        };\n        var input = document.getElementById(\"my_test2\") as HTMLInputElement;\n        var autocomplete = new google.maps.places.Autocomplete(input, options);\n        autocomplete.addListener(\"place_changed\", () => {\n        var end_address = autocomplete.getPlace();\n        this.autocomplete.end = end_address.formatted_address;\n        this.geoCode(this.autocomplete.end,'end');\n         //console.log(place);\n    \n        })\n\n\n    \n  }\n\n  //convert Address string to lat and long\n  geoCode(address:any,path) {\n    console.log(address);\n    let geocoder = new google.maps.Geocoder();\n    \n    geocoder.geocode({ 'address': address }, (results, status) => {\n     var address_components = results[0].address_components;\n     var self = this;\n      address_components.forEach(function(val,i){\n        \n        if (val.types[0] == \"locality\"){\n            \n            self.model.city = val.long_name;\n        }\n        if (val.types[0] == \"administrative_area_level_1\"){\n\t\t\t\t\n          self.model.state = val.long_name;\n        } \n        if (val.types[0] == \"country\"){\n          \n          self.model.country = val.long_name;\n        }\n        if (val.types[0] == \"postal_code\"){\n          \n          self.model.postalCode = val.long_name;\n        }  \n\n      });\n      if(path == 'start'){\n        this.model.startLat = results[0].geometry.location.lat();\n        this.model.startLng = results[0].geometry.location.lng();\n        console.log(\"startLat:\",this.model.startLat);\n        console.log(\"startLng:\",this.model.startLng);\n        this.showRoutes();\n      }\n      if(path ==  'end'){\n        this.model.endLat = results[0].geometry.location.lat();\n        this.model.endLng = results[0].geometry.location.lng();\n        console.log(\"endLat:\",this.model.endLat);\n        console.log(\"endLng:\",this.model.endLng);\n        this.showRoutes();\n      }\n    // alert(\"lat: \" + this.latitude + \", long: \" + this.longitude);\n\n   });\n   \n }  \n\n getLiText(point) {\n  let  lat = point.lat(),\n       lng = point.lng();\nreturn {lat: lat, lng:lng}\n}\n\n\n\n showRoutes(){\n  \n  if(this.autocomplete.start != '' && this.autocomplete.end != ''){\n   \n   \n      \n      this.directionsRenderer.setMap(null);\n      this.directionsRenderer.setDirections({routes: []});\n      for (var i = 0; i < this.markers.length; i++ ) {\n        this.markers[i].setMap(null);\n      }\n      \n      this.directionsService.route(\n        {\n          origin: this.autocomplete.start ,\n          destination: this.autocomplete.end,\n          waypoints: [],\n          optimizeWaypoints: true,\n          travelMode: google.maps.TravelMode.DRIVING,\n        },\n        (response, status) => {\n          if (status === \"OK\") {\n           \n            this.directionsRenderer.setDirections(response);\n\n            if (response.routes && response.routes.length > 0) {\n\n              console.log(\"this is response:\",response);\n              \n              var routes = response.routes;\n              for (var j = 0; j < routes.length; j++) {\n                  var points = routes[j].overview_path;\n                  // var ul = document.getElementById(\"vertex\");\n                  for (var i = 0; i < points.length; i++) {\n                      // var li = document.createElement('li');\n                      // li.innerHTML = this.getLiText(points[i]);\n                      var result = this.getLiText(points[i]);\n                      \n                      // ul.appendChild(li);\n                    //  this.resultarr.push(result.lat,result.lng);\n                     this.allpoints = new google.maps.LatLng(result.lat,result.lng);\n                    this.pointarr.push(this.allpoints)\n                     console.log(this.allpoints);\n                     this.model.allpoints = this.allpoints;\n                     this.model.pointarr = this.pointarr;\n                     this.model.alllatlng = result;\n                      \n                  }\n              }\n            }\n\n\n            this.directionsRenderer.setMap(this.map);\n            var startLocation = new Object();\n            var endLocation = new Object();\n            // var waypointLocations = [];\n            var legs = response.routes[0].legs;\n            console.log(legs);\n            for (var i = 0; i < legs.length; i++) {\n              if (i == 0) {\n                startLocation = legs[i].start_location;\n                this.time_c = legs[i].duration.text;\n                this.distance_c = legs[i].distance.text;\n               \n              }\n              // if (i != 0 && i != legs.length - 1) { \n              //   var waypoint = {latlng : '', address : ''};\n              //   waypoint.latlng = legs[i].start_location;\n              //   waypoint.address = legs[i].start_address;\n              //   waypointLocations.push(waypoint);\n              // }\n              if (i == legs.length - 1) {\n                endLocation = legs[i].end_location;\n                \n              }\n              \n            }\n            //console.log(waypointLocations);\n            \n            this.createMarker(endLocation, \"end\", \"special text for end marker\", 0,\"http://www.google.com/mapfiles/markerB.png\")\n           this.createMarker(startLocation, \"start\", \"special text for start marker\",0, \"http://maps.gstatic.com/mapfiles/markers2/marker_greenA.png\");\n            \n          \n          } else {\n            window.alert(\"Directions request failed due to \" + status);\n          }\n        }\n      );\n  \n  \n   \n        \n  }  \n}\ncreateMarker(latlng, label, html, mobile_no, url) {\n  if(mobile_no != 0){\n    var contentString = '<b>' + label + '</b><br>' + html;\n  }else{\n    var contentString = '<b>' + label + '</b><br>' + html;\n  }\n  \n  var marker = new google.maps.Marker({\n    position: latlng,\n    map: this.map,\n    icon: {url : url },\n    title: label,\n    zIndex: Math.round(latlng.lat() * -100000) << 5\n  });\n  this.markers.push(marker);\n  google.maps.event.addListener(marker, 'click', ()=> {\n    this.infowindow.setContent(contentString);\n    this.infowindow.open(this.map, marker);\n  });\n\n  \n}\nasync closeModal() {\n  const onClosedData = [];\n  await this.modalController.dismiss(onClosedData);\n}\ncurrent_location(){\n\t//alert(JSON.stringify(this.model.data));\n  let data = [];\n  if(this.autocomplete.start && this.autocomplete.end){\n     data.push(this.model);\n     data.push(this.autocomplete);\n  }\n    this.modalController.dismiss(data);\n  }\n  blank(val){\n    if(val == 'start'){\n      this.autocomplete.start = '';\n      $(\"#my_test\").val('');\n    }else{\n      this.autocomplete.end = '';\n      $(\"#my_test2\").val('');\n    }\n  }\n\n}\n"]}